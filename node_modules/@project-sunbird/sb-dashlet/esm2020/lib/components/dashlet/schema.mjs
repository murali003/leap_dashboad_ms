import Joi from 'joi';
import { TYPE_TO_COMPONENT_MAPPING } from './type_to_component_mapping';
const chartTypes = Object.keys(TYPE_TO_COMPONENT_MAPPING);
const getSchema = (config) => Joi.object({
    type: Joi.string().required().valid(...chartTypes),
    config: config.required(),
    data: Joi.object({
        values: Joi.array(),
        location: Joi.object({
            url: Joi.string().required(),
            method: Joi.string().required(),
            options: Joi.object({
                body: Joi.object().allow(...[null]).optional(),
                headers: Joi.object().pattern(Joi.string(), Joi.alternatives(...[Joi.string(), Joi.array().items(...[Joi.string()])])).optional(),
                params: Joi.object().pattern(Joi.string(), Joi.alternatives(...[Joi.string(), Joi.array().items(...[Joi.string()])])).optional(),
                responseType: Joi.string().valid(...['arraybuffer', 'blob', 'json', 'text']),
                reportProgress: Joi.boolean().optional(),
                response: Joi.object({
                    path: Joi.string()
                }).optional()
            }).optional().options({ allowUnknown: true })
        }),
        dataSchema: Joi.object().optional()
    }).required().xor("values", "location")
});
export const defaultObjectSchemaAllowingAllKeys = Joi.object().options({ allowUnknown: true });
export const validateInputAgainstSchema = (typeBasedConfigSchema) => (inputObject) => getSchema(typeBasedConfigSchema).validate(inputObject);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZW1hLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvc2ItZGFzaGxldHMvc3JjL2xpYi9jb21wb25lbnRzL2Rhc2hsZXQvc2NoZW1hLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sR0FBRyxNQUFNLEtBQUssQ0FBQztBQUN0QixPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQTtBQUN2RSxNQUFNLFVBQVUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLHlCQUF5QixDQUFDLENBQUE7QUFFekQsTUFBTSxTQUFTLEdBQUcsQ0FBQyxNQUE2QixFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDO0lBQzVELElBQUksRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsVUFBVSxDQUFDO0lBQ2xELE1BQU0sRUFBRSxNQUFNLENBQUMsUUFBUSxFQUFFO0lBQ3pCLElBQUksRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDO1FBQ2IsTUFBTSxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUU7UUFDbkIsUUFBUSxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUM7WUFDakIsR0FBRyxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUU7WUFDNUIsTUFBTSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUU7WUFDL0IsT0FBTyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUM7Z0JBQ2hCLElBQUksRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRTtnQkFDOUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxFQUFFLEdBQUcsQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsRUFBRSxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRTtnQkFDakksTUFBTSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxFQUFFLEdBQUcsQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsRUFBRSxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRTtnQkFDaEksWUFBWSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO2dCQUM1RSxjQUFjLEVBQUUsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDLFFBQVEsRUFBRTtnQkFDeEMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUM7b0JBQ2pCLElBQUksRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFO2lCQUNyQixDQUFDLENBQUMsUUFBUSxFQUFFO2FBQ2hCLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRSxZQUFZLEVBQUUsSUFBSSxFQUFFLENBQUM7U0FDaEQsQ0FBQztRQUNGLFVBQVUsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO0tBQ3RDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLFVBQVUsQ0FBQztDQUMxQyxDQUFDLENBQUE7QUFFRixNQUFNLENBQUMsTUFBTSxrQ0FBa0MsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsT0FBTyxDQUFDLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7QUFFL0YsTUFBTSxDQUFDLE1BQU0sMEJBQTBCLEdBQUcsQ0FBQyxxQkFBNEMsRUFBRSxFQUFFLENBQUMsQ0FBQyxXQUFtQixFQUFFLEVBQUUsQ0FBQyxTQUFTLENBQUMscUJBQXFCLENBQUMsQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSm9pIGZyb20gJ2pvaSc7XG5pbXBvcnQgeyBUWVBFX1RPX0NPTVBPTkVOVF9NQVBQSU5HIH0gZnJvbSAnLi90eXBlX3RvX2NvbXBvbmVudF9tYXBwaW5nJ1xuY29uc3QgY2hhcnRUeXBlcyA9IE9iamVjdC5rZXlzKFRZUEVfVE9fQ09NUE9ORU5UX01BUFBJTkcpXG5cbmNvbnN0IGdldFNjaGVtYSA9IChjb25maWc6IEpvaS5PYmplY3RTY2hlbWE8YW55PikgPT4gSm9pLm9iamVjdCh7XG4gICAgdHlwZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCkudmFsaWQoLi4uY2hhcnRUeXBlcyksXG4gICAgY29uZmlnOiBjb25maWcucmVxdWlyZWQoKSxcbiAgICBkYXRhOiBKb2kub2JqZWN0KHtcbiAgICAgICAgdmFsdWVzOiBKb2kuYXJyYXkoKSxcbiAgICAgICAgbG9jYXRpb246IEpvaS5vYmplY3Qoe1xuICAgICAgICAgICAgdXJsOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgICAgIG1ldGhvZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgICAgICBvcHRpb25zOiBKb2kub2JqZWN0KHtcbiAgICAgICAgICAgICAgICBib2R5OiBKb2kub2JqZWN0KCkuYWxsb3coLi4uW251bGxdKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IEpvaS5vYmplY3QoKS5wYXR0ZXJuKEpvaS5zdHJpbmcoKSwgSm9pLmFsdGVybmF0aXZlcyguLi5bSm9pLnN0cmluZygpLCBKb2kuYXJyYXkoKS5pdGVtcyguLi5bSm9pLnN0cmluZygpXSldKSkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IEpvaS5vYmplY3QoKS5wYXR0ZXJuKEpvaS5zdHJpbmcoKSwgSm9pLmFsdGVybmF0aXZlcyguLi5bSm9pLnN0cmluZygpLCBKb2kuYXJyYXkoKS5pdGVtcyguLi5bSm9pLnN0cmluZygpXSldKSkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6IEpvaS5zdHJpbmcoKS52YWxpZCguLi5bJ2FycmF5YnVmZmVyJywgJ2Jsb2InLCAnanNvbicsICd0ZXh0J10pLFxuICAgICAgICAgICAgICAgIHJlcG9ydFByb2dyZXNzOiBKb2kuYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgcmVzcG9uc2U6IEpvaS5vYmplY3Qoe1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBKb2kuc3RyaW5nKClcbiAgICAgICAgICAgICAgICB9KS5vcHRpb25hbCgpXG4gICAgICAgICAgICB9KS5vcHRpb25hbCgpLm9wdGlvbnMoeyBhbGxvd1Vua25vd246IHRydWUgfSlcbiAgICAgICAgfSksXG4gICAgICAgIGRhdGFTY2hlbWE6IEpvaS5vYmplY3QoKS5vcHRpb25hbCgpXG4gICAgfSkucmVxdWlyZWQoKS54b3IoXCJ2YWx1ZXNcIiwgXCJsb2NhdGlvblwiKVxufSlcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRPYmplY3RTY2hlbWFBbGxvd2luZ0FsbEtleXMgPSBKb2kub2JqZWN0KCkub3B0aW9ucyh7IGFsbG93VW5rbm93bjogdHJ1ZSB9KTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlSW5wdXRBZ2FpbnN0U2NoZW1hID0gKHR5cGVCYXNlZENvbmZpZ1NjaGVtYTogSm9pLk9iamVjdFNjaGVtYTxhbnk+KSA9PiAoaW5wdXRPYmplY3Q6IG9iamVjdCkgPT4gZ2V0U2NoZW1hKHR5cGVCYXNlZENvbmZpZ1NjaGVtYSkudmFsaWRhdGUoaW5wdXRPYmplY3QpIl19